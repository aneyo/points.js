<script setup lang="ts">
import { useStore } from "../store";

const store = useStore();
</script>

<template>
  <button class="theme-button" @click="store.nextTheme">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      height="1.2rem"
      viewBox="0 -960 960 960"
      width="1.2rem"
      fill="currentColor"
    >
      <path
        v-if="store.config?.theme == 'dark'"
        d="M480.24-116.41q-153.63 0-258.73-104.98Q116.41-326.37 116.41-480q0-133.93 84.74-235.43t223.31-123.05q15.39-3.43 27.54 1.35 12.15 4.78 19.95 14.02 7.79 9.24 9.6 22.2 1.82 12.95-4.75 26.11-13.89 25.04-21.31 51.65-7.42 26.61-7.42 55.5 0 91.69 64.32 155.88 64.33 64.18 156.22 64.18 28.37 0 56.48-7.44 28.11-7.45 50.91-20.58 12.91-5.8 25.13-4.11 12.22 1.7 21.1 8.13 9.88 6.44 14.66 18.23 4.78 11.8 1.59 27.95Q820.17-291 717.63-203.71q-102.54 87.3-237.39 87.3Zm0-91q81.78 0 147.84-43.72 66.05-43.72 98.29-114.78-17.61 4.04-35.1 6.32-17.49 2.29-34.86 1.81-122.04-4.07-207.94-89.37-85.9-85.31-90.45-209.26-.24-17.37 1.93-34.98 2.16-17.61 6.44-34.98-70.82 32.48-114.78 98.65-43.96 66.18-43.96 147.72 0 112.93 79.83 192.76 79.83 79.83 192.76 79.83Zm-13.11-259.48Z"
      />
      <path
        v-else-if="store.config?.theme == 'light'"
        d="M480-371q45.46 0 77.23-31.77Q589-434.54 589-480q0-45.46-31.77-77.23Q525.46-589 480-589q-45.46 0-77.23 31.77Q371-525.46 371-480q0 45.46 31.77 77.23Q434.54-371 480-371Zm0 91q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM80-434.5q-19.15 0-32.33-13.17Q34.5-460.85 34.5-480t13.17-32.33Q60.85-525.5 80-525.5h80q19.15 0 32.33 13.17Q205.5-499.15 205.5-480t-13.17 32.33Q179.15-434.5 160-434.5H80Zm720 0q-19.15 0-32.33-13.17Q754.5-460.85 754.5-480t13.17-32.33Q780.85-525.5 800-525.5h80q19.15 0 32.33 13.17Q925.5-499.15 925.5-480t-13.17 32.33Q899.15-434.5 880-434.5h-80Zm-320-320q-19.15 0-32.33-13.17Q434.5-780.85 434.5-800v-80q0-19.15 13.17-32.33Q460.85-925.5 480-925.5t32.33 13.17Q525.5-899.15 525.5-880v80q0 19.15-13.17 32.33Q499.15-754.5 480-754.5Zm0 720q-19.15 0-32.33-13.17Q434.5-60.85 434.5-80v-80q0-19.15 13.17-32.33Q460.85-205.5 480-205.5t32.33 13.17Q525.5-179.15 525.5-160v80q0 19.15-13.17 32.33Q499.15-34.5 480-34.5ZM222.17-673.93l-43-42Q165.5-728.61 166-747.76t13.17-33.07q13.44-13.67 32.59-13.67 19.15 0 32.07 13.67l42.24 43q12.67 13.44 12.55 31.71-.12 18.27-12.55 31.95-12.68 13.67-31.45 13.41-18.77-.26-32.45-13.17Zm494 494.76-42.24-43q-12.67-13.44-12.67-32.09 0-18.65 12.67-31.57 12.68-13.67 31.45-13.17t32.45 13.17l43 41.76q13.67 12.68 13.17 31.83t-13.17 33.07q-13.44 13.67-32.59 13.67-19.15 0-32.07-13.67Zm-42-494.76Q660.5-686.61 661-705.38t13.17-32.45l41.76-43q12.68-13.67 31.83-13.17t33.07 13.17q13.67 13.44 13.67 32.59 0 19.15-13.67 32.07l-43 42.24q-13.44 12.67-31.71 12.55-18.27-.12-31.95-12.55Zm-495 494.76q-13.67-13.44-13.67-32.59 0-19.15 13.67-32.07l43-42.24q13.44-12.67 32.09-12.67 18.65 0 31.57 12.67 13.67 12.68 13.17 31.45t-13.17 32.45l-41.76 43Q231.39-165.5 212.24-166t-33.07-13.17ZM480-480Z"
      />
      <path
        v-else
        d="M412.78-409.37H548.5l22.61 67.74q3.24 9.2 11.34 15.17 8.09 5.98 18.29 5.98 16.67 0 26.01-13.69 9.34-13.7 3.86-29.13L521.63-657.17q-3.24-9.72-11.84-15.2-8.59-5.48-18.31-5.48h-22.96q-9.95 0-18.43 5.48t-11.72 15.2L329.63-363.11q-5.48 15.2 3.74 28.91 9.22 13.72 26.17 13.72 10.96 0 19.3-6.1 8.33-6.09 11.57-16.05l22.37-66.74Zm17.52-55.11L478-607.3h4l47.7 142.82h-99.4Zm-85.5 312.61H242.87q-37.78 0-64.39-26.61t-26.61-64.39V-344.8l-70.54-71.55q-12.68-13.43-19.4-29.97-6.71-16.53-6.71-33.68t6.71-33.68q6.72-16.54 19.4-29.97l70.54-71.55v-101.93q0-37.78 26.61-64.39t64.39-26.61H344.8l71.55-70.54q13.67-12.68 30.08-19.4 16.42-6.71 33.57-6.71t33.57 6.71q16.41 6.72 30.08 19.4l71.55 70.54h101.93q37.78 0 64.39 26.61t26.61 64.39v101.93l70.54 71.55q12.68 13.67 19.4 30.08 6.71 16.42 6.71 33.57t-6.71 33.57q-6.72 16.41-19.4 30.08l-70.54 71.55v101.93q0 37.78-26.61 64.39t-64.39 26.61H615.2l-71.55 70.54q-13.43 12.68-29.97 19.4-16.53 6.71-33.68 6.71t-33.68-6.71q-16.54-6.72-29.97-19.4l-71.55-70.54Zm38.55-91L480-146.22l96.65-96.65h140.48v-140.48L813.78-480l-96.65-96.65v-140.48H576.65L480-813.78l-96.65 96.65H242.87v140.48L146.22-480l96.65 96.65v140.48h140.48ZM480-480Z"
      />
    </svg>
  </button>
</template>

<style lang="scss" scoped>
.theme-button {
  font-size: 0.5rem;
  padding: 0.5rem 0.5rem;
  border-radius: 0.2rem;
  border: none;
  display: flex;
  justify-content: center;
  align-items: center;

  background-color: transparent;
  color: var(--md-sys-color-primary);

  cursor: pointer;
  position: relative;
  overflow: hidden;
  &::before {
    content: "";
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    transition: all 0.2s;
    background-color: var(--md-sys-color-primary);
    opacity: 0;
  }

  &:hover,
  &:focus,
  &:active {
    &::before {
      opacity: 0.08;
    }
  }
  &:active::before {
    opacity: 0.1;
  }
}
</style>
