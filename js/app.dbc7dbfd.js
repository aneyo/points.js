(function(e){function t(t){for(var r,i,s=t[0],l=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);c&&c(t);while(p.length)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var l=n[s];0!==o[l]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={app:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/points.js/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=l;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),o=n.n(r);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.redirect?n("div",{staticClass:"redirect"},[e._m(0)]):n("div",{staticClass:"block"},[n("a",{staticClass:"tokenButton",attrs:{href:e.token_auth}},[e._v("Получить токен снова (если текущий просрочен или нужен новый)")]),n("ncform",{attrs:{"form-name":"generator","form-schema":e.form,"is-dirty":e.form.modded},on:{"update:isDirty":function(t){return e.$set(e.form,"modded",t)},"update:is-dirty":function(t){return e.$set(e.form,"modded",t)},change:function(t){return e.change()}},model:{value:e.form.value,callback:function(t){e.$set(e.form,"value",t)},expression:"form.value"}}),n("div",{staticClass:"linkBar",class:{linkReady:e.linkReady}},[n("div",{staticClass:"link"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.link,expression:"link"}],ref:"copy",attrs:{readonly:""},domProps:{value:e.link},on:{input:function(t){t.target.composing||(e.link=t.target.value)}}}),n("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.copy()}}},[n("span",[e._v("Копировать")])])])])],1)])},a=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(" Для начала, нам нужно получить токен - "),n("br"),e._v("Через 3 секунды мы перенаправим вас на страницу получения Twitch API токена. ")])}],i=(n("99af"),n("a15b"),n("fb6a"),n("d3b7"),n("3ca3"),n("9911"),n("ddb0"),n("2b3d"),n("96cf"),n("1da1")),s="https://id.twitch.tv/oauth2/authorize?response_type=token&redirect_uri=https://aneyo.github.io/points.js&scope=channel:read:redemptions&client_id=loh6hmf1odxlkqbgmv7b22lw4bl5rm",l="https://aneyo.github.io/points.js/widget",u="Заполните нужные поля и на этом месте появится ссылка.",c={name:"App",components:{},data:function(){var e=new URLSearchParams(document.location.hash.slice(1)).get("access_token");return e||setTimeout((function(){return document.location.href=s}),3e3),{redirect:!e,token_auth:s,linkReady:!1,link:u,form:{type:"object",properties:{token:{type:"string",ui:{label:"Токен",placeholder:"Можно получить перейдя по ссылке сверху"},value:e,rules:{required:{value:!0,errMsg:"Для работы виджета нужен токен доступа к Twitch API!"}}},channel:{type:"string",ui:{label:"Имя канала (логин)",placeholder:"maidhonoka"},rules:{required:{value:!0,errMsg:"Без логина мы не сможем слушать эвенты канала, которые связанны с наградами."}}},list:{type:"string",default:"https://gist.githubusercontent.com/aneyo/4566b18ed624ac7c2b28daaedc28c7dd/raw/points.txt",ui:{label:"Ссылка на список со звуками",placeholder:"https://gist.githubusercontent.com/aneyo/4566b18ed624ac7c2b28daaedc28c7dd/raw/points.txt",description:"Список может быть в формате JSON или просто в виде ссылок разделенными новой линией (\\n)"},rules:{required:{value:!0,errMsg:"А откуда звуки то брать?"},url:!0}},reward1_name:{type:"string",ui:{label:"Название награды для проигрывания случайного звука",placeholder:"Звук?"},rules:{required:!0}},reward2_name:{type:"string",ui:{label:"Название награды для проигрывания указанного звука (Опционально)",placeholder:"Звук!",description:'Что-бы эта награда работала как надо, включите параметр награды "Пользователь должен ввести текст".'}},random_list:{type:"boolean",default:!0,ui:{label:"Использовать случайный порядок звуков",description:"Порядок будет менятся после каждой перезагрузки виджета."},rules:{required:!0}},misc:{type:"object",ui:{showLabel:!1,legend:"Прочее"},properties:{sounds_volume:{type:"number",default:.8,ui:{label:"Громкость звуков (от 0 до 1)"},rules:{required:{value:!0,errMsg:"Громкость звуков может быть только в райное от 0 до 1!"},number:!0,minimum:0,maximum:1}},show_rewards:{type:"boolean",default:!1,ui:{label:"Показывать ли активированные награды?",description:"В верхнем левом углу на короткое время будет показанна использованная награда (кроме звуков)."}},show_sounds:{type:"boolean",default:!0,ui:{label:"Показывать ли использованные звуки?",description:"Во время использование звука в нижнем правом углу будет показанно временное уведомление, которое содержит имя пользователя и номер звука."}},sounds_show_one:{type:"boolean",default:!1,ui:{label:"Показывать ли только один играющий звук за раз?",description:"Вместо списка будет показанно только одно уведомление."}}}}},value:{},modded:!1,globalConfig:{scrollToFailField:{enabled:!1}}},cache:{list:null,list_result:null,list_timeout:null}}},methods:{change:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.resolveJSONFormat();case 2:n=t.sent,e.linkReady=e.form.value.token&&e.form.value.channel&&e.form.value.reward1_name&&e.form.value.list&&e.form.value.misc.sounds_volume>=0&&e.form.value.misc.sounds_volume<=1,e.linkReady?(r=["t=".concat(encodeURI(e.form.value.token)),"c=".concat(encodeURI(e.form.value.channel)),"r=".concat(encodeURI(e.form.value.reward1_name)),"v=".concat(encodeURI(e.form.value.misc.sounds_volume))],e.form.value.list&&r.push("".concat(n?"j":"l","=").concat(encodeURI(e.form.value.list))),e.form.value.reward2_name&&r.push("e=".concat(encodeURI(e.form.value.reward2_name))),e.form.value.random_list||r.push("fixed"),e.form.value.misc.show_rewards||r.push("R=0"),e.form.value.misc.show_sounds?e.form.value.misc.sounds_show_one&&r.push("S=2"):r.push("S=0"),e.link="".concat(l,"#")+r.join("&")):e.link=u;case 5:case"end":return t.stop()}}),t)})))()},copy:function(){this.$refs["copy"].select(),this.$refs["copy"].setSelectionRange(0,1e4),document.execCommand("copy")},resolveJSONFormat:function(){var e=this;return this.cache.list&&this.cache.list==this.form.value.list?this.list_result:(this.cache.list=this.form.value.list,this.cache.list_timeout&&clearTimeout(this.cache.list_timeout),new Promise((function(t){e.cache.list_timeout=setTimeout(Object(i["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch(e.form.value.list);case 2:return r=n.sent,n.prev=3,n.next=6,r.json();case 6:o=n.sent,t(e.list_result=o instanceof Array),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](3),t(e.list_result=!1);case 13:case"end":return n.stop()}}),n,null,[[3,10]])}))),1e3)})))}}},d=c,p=(n("034f"),n("2877")),f=Object(p["a"])(d,o,a,!1,null,null,null),m=f.exports,h=n("5140"),v=n.n(h),b=n("5c96"),y=n.n(b),_=(n("0fae"),n("d4e5")),g=n.n(_),w=n("bc3a"),k=n.n(w);r["default"].config.productionTip=!1,r["default"].use(y.a),r["default"].use(v.a,{extComponents:g.a,lang:"ru-RU"}),window.$http=r["default"].prototype.$http=k.a,new r["default"]({render:function(e){return e(m)}}).$mount("#app")},"85ec":function(e,t,n){}});
//# sourceMappingURL=app.dbc7dbfd.js.map